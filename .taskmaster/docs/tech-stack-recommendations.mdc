---
description: 
globs: 
alwaysApply: false
---
# Tech Stack Recommendations - Solo Developer

## Stack Analysis & Best Practices

### âœ… **Excellent Choices (à¸„à¸¸à¸“à¹€à¸¥à¸·à¸­à¸à¸”à¸µà¸¡à¸²à¸!)**

#### Frontend Framework: **Next.js 15.3.4**
- **à¸‚à¹‰à¸­à¸”à¸µ**: App Router, Server Actions, Built-in optimization
- **Solo Developer Benefits**: 
  - à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² API routes à¹à¸¢à¸
  - Server Components à¸¥à¸” complexity
  - Built-in Image optimization, SEO
- **Best Practice**: à¹ƒà¸Šà¹‰ App Router + Server Actions à¹à¸—à¸™ API routes

#### UI Framework: **DaisyUI + TailwindCSS 4**
- **à¸‚à¹‰à¸­à¸”à¸µ**: Component library à¸à¸£à¹‰à¸­à¸¡à¹ƒà¸Šà¹‰ + Utility classes
- **Solo Developer Benefits**:
  - à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡à¸­à¸­à¸à¹à¸šà¸š components à¹€à¸­à¸‡
  - Consistent design system
  - à¹€à¸£à¹‡à¸§à¹ƒà¸™à¸à¸²à¸£à¸à¸±à¸’à¸™à¸²
- **Best Practice**: à¹ƒà¸Šà¹‰ DaisyUI themes à¸—à¸µà¹ˆà¸¡à¸µà¸­à¸¢à¸¹à¹ˆà¹à¸¥à¹‰à¸§

#### Database + Auth: **Supabase**
- **à¸‚à¹‰à¸­à¸”à¸µ**: Real-time, RLS, Authentication à¹à¸šà¸šà¸„à¸£à¸šà¸„à¸£à¸±à¸™
- **Solo Developer Benefits**:
  - à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡à¸ˆà¸±à¸”à¸à¸²à¸£ server à¹€à¸­à¸‡
  - Built-in security à¸”à¹‰à¸§à¸¢ RLS
  - Real-time subscriptions
- **Best Practice**: à¹ƒà¸Šà¹‰ RLS à¹€à¸•à¹‡à¸¡à¸—à¸µà¹ˆ, Client-side caching

#### Animation: **Framer Motion**
- **à¸‚à¹‰à¸­à¸”à¸µ**: Powerful, declarative animations
- **Solo Developer Benefits**: API à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆà¸‡à¹ˆà¸²à¸¢, documentation à¸”à¸µ
- **Best Practice**: à¹ƒà¸Šà¹‰à¹à¸„à¹ˆ animations à¸à¸·à¹‰à¸™à¸à¸²à¸™, lazy load à¸ªà¸³à¸«à¸£à¸±à¸š complex animations

#### Notifications: **Sonner**
- **à¸‚à¹‰à¸­à¸”à¸µ**: Modern, lightweight, beautiful
- **Solo Developer Benefits**: Setup à¸‡à¹ˆà¸²à¸¢, customizable
- **Best Practice**: à¹ƒà¸Šà¹‰ global toast context

---

## Recommended Dependencies

### Core Dependencies
```json
{
  "dependencies": {
    "next": "15.3.4",
    "react": "^19.0.0",
    "react-dom": "^19.0.0",
    
    // Database & Auth
    "@supabase/supabase-js": "^2.39.0",
    "@supabase/auth-helpers-nextjs": "^0.8.7",
    "@prisma/client": "^5.8.0",
    
    // UI & Styling
    "daisyui": "^4.6.0",
    "tailwindcss": "^4.0.0",
    "@tailwindcss/typography": "^0.5.10",
    
    // Animations
    "framer-motion": "^10.18.0",
    
    // Notifications
    "sonner": "^1.4.0",
    
    // Forms & Validation (à¹à¸™à¸°à¸™à¸³à¹€à¸à¸´à¹ˆà¸¡)
    "react-hook-form": "^7.48.2",
    "zod": "^3.22.4",
    "@hookform/resolvers": "^3.3.2",
    
    // Date handling (à¸ªà¸³à¸«à¸£à¸±à¸šà¸§à¸±à¸™à¹€à¸à¸´à¸”à¸ªà¸±à¸•à¸§à¹Œ)
    "date-fns": "^3.2.0",
    "date-fns-tz": "^2.0.0",
    
    // Icons
    "lucide-react": "^0.307.0",
    
    // Loading & Error States
    "@tanstack/react-query": "^5.17.0",
    
    // Image handling
    "next-cloudinary": "^5.20.0"
  },
  
  "devDependencies": {
    "typescript": "^5",
    "@types/node": "^20",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    
    // Database
    "prisma": "^5.8.0",
    
    // Testing (à¸‡à¹ˆà¸²à¸¢à¸ªà¸³à¸«à¸£à¸±à¸š solo dev)
    "@testing-library/react": "^14.1.2",
    "@testing-library/jest-dom": "^6.2.0",
    "@testing-library/user-event": "^14.5.2",
    "jest": "^29.7.0",
    "jest-environment-jsdom": "^29.7.0",
    
    // Code Quality
    "eslint": "^8.56.0",
    "eslint-config-next": "15.3.4",
    "prettier": "^3.1.1",
    "prettier-plugin-tailwindcss": "^0.5.10",
    
    // Type safety
    "@types/jest": "^29.5.11"
  }
}
```

---

## Testing Recommendations (à¹€à¸«à¸¡à¸²à¸°à¸ªà¸³à¸«à¸£à¸±à¸šà¸¡à¸·à¸­à¹ƒà¸«à¸¡à¹ˆ)

### ğŸ¯ **à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™à¸‡à¹ˆà¸²à¸¢à¹†: Jest + React Testing Library**

#### Setup
```bash
npm install -D @testing-library/react @testing-library/jest-dom @testing-library/user-event jest jest-environment-jsdom
```

#### Configuration
```javascript
// jest.config.js
const nextJest = require('next/jest')

const createJestConfig = nextJest({
  dir: './',
})

const customJestConfig = {
  setupFilesAfterEnv: ['<rootDir>/jest.setup.js'],
  testEnvironment: 'jest-environment-jsdom',
  testPathIgnorePatterns: ['<rootDir>/.next/', '<rootDir>/node_modules/'],
  collectCoverageFrom: [
    'src/**/*.{js,jsx,ts,tsx}',
    '!src/**/*.d.ts',
  ],
}

module.exports = createJestConfig(customJestConfig)
```

```javascript
// jest.setup.js
import '@testing-library/jest-dom'
```

#### Testing Strategy à¸ªà¸³à¸«à¸£à¸±à¸š Solo Dev
1. **à¹€à¸£à¸´à¹ˆà¸¡à¸ˆà¸²à¸ Component Tests** - à¸‡à¹ˆà¸²à¸¢à¸—à¸µà¹ˆà¸ªà¸¸à¸”
2. **Integration Tests** - à¸—à¸”à¸ªà¸­à¸š user flows à¸ªà¸³à¸„à¸±à¸
3. **E2E Tests** - à¹ƒà¸Šà¹‰à¸•à¸­à¸™à¸—à¸µà¹ˆà¹‚à¸›à¸£à¹€à¸ˆà¹‡à¸„à¹ƒà¸«à¸à¹ˆà¸‚à¸¶à¹‰à¸™

#### à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡ Component Test
```typescript
// __tests__/components/animal-card.test.tsx
import { render, screen } from '@testing-library/react'
import { AnimalCard } from '@/components/animal-card'

describe('AnimalCard', () => {
  const mockAnimal = {
    id: '1',
    name: 'à¸™à¹‰à¸­à¸‡à¸«à¸¡à¸¹',
    animalType: 'à¸«à¸¡à¸¹',
    birthDate: new Date('2023-01-01'),
  }

  it('should display animal name and type', () => {
    render(<AnimalCard animal={mockAnimal} />)
    
    expect(screen.getByText('à¸™à¹‰à¸­à¸‡à¸«à¸¡à¸¹')).toBeInTheDocument()
    expect(screen.getByText('à¸«à¸¡à¸¹')).toBeInTheDocument()
  })
})
```

---

## Project Structure (Solo Developer Optimized)

```
src/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ (auth)/                   # Route groups
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â””â”€â”€ register/
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â””â”€â”€ [farm-id]/
â”‚   â”œâ”€â”€ animals/
â”‚   â”œâ”€â”€ profile/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ page.tsx
â”‚   â””â”€â”€ globals.css
â”‚
â”œâ”€â”€ components/                   # Reusable components
â”‚   â”œâ”€â”€ ui/                      # Base components
â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”œâ”€â”€ modal.tsx
â”‚   â”‚   â””â”€â”€ form-field.tsx
â”‚   â”œâ”€â”€ farm/
â”‚   â”‚   â”œâ”€â”€ farm-card.tsx
â”‚   â”‚   â””â”€â”€ farm-member-list.tsx
â”‚   â””â”€â”€ animals/
â”‚       â”œâ”€â”€ animal-card.tsx
â”‚       â””â”€â”€ animal-form.tsx
â”‚
â”œâ”€â”€ lib/                         # Utilities & configs
â”‚   â”œâ”€â”€ supabase.ts             # Supabase clients
â”‚   â”œâ”€â”€ prisma.ts               # Prisma client
â”‚   â”œâ”€â”€ validations.ts          # Zod schemas
â”‚   â”œâ”€â”€ utils.ts                # Helper functions
â”‚   â””â”€â”€ constants.ts            # App constants
â”‚
â”œâ”€â”€ hooks/                       # Custom hooks
â”‚   â”œâ”€â”€ use-supabase.ts
â”‚   â”œâ”€â”€ use-farms.ts
â”‚   â””â”€â”€ use-animals.ts
â”‚
â”œâ”€â”€ types/                       # TypeScript types
â”‚   â”œâ”€â”€ database.ts             # Supabase generated types
â”‚   â””â”€â”€ app.ts                  # App-specific types
â”‚
â””â”€â”€ actions/                     # Server Actions
    â”œâ”€â”€ auth-actions.ts
    â”œâ”€â”€ farm-actions.ts
    â””â”€â”€ animal-actions.ts
```

---

## Solo Developer Best Practices

### ğŸ”§ **Development Workflow**
1. **Start Simple**: à¹€à¸£à¸´à¹ˆà¸¡à¸ˆà¸²à¸ MVP features
2. **TypeScript First**: Type safety à¸Šà¹ˆà¸§à¸¢à¸¥à¸” bugs
3. **Component-driven**: à¸ªà¸£à¹‰à¸²à¸‡ Storybook à¸ªà¸³à¸«à¸£à¸±à¸š components
4. **Git Workflow**: Feature branches + descriptive commits

### ğŸ“ **Code Organization**
1. **File Naming**: `kebab-case.tsx` à¸•à¸²à¸¡à¸—à¸µà¹ˆà¸„à¸¸à¸“à¸•à¹‰à¸­à¸‡à¸à¸²à¸£
2. **Folder Structure**: Feature-based grouping
3. **Export Strategy**: Named exports for components, default for pages
4. **Import Organization**: External â†’ Internal â†’ Relative

### ğŸš€ **Performance Tips**
1. **Image Optimization**: à¹ƒà¸Šà¹‰ Next.js Image component
2. **Bundle Size**: à¹ƒà¸Šà¹‰ dynamic imports à¸ªà¸³à¸«à¸£à¸±à¸š heavy components
3. **Caching**: React Query à¸ªà¸³à¸«à¸£à¸±à¸š server state
4. **Real-time**: à¹ƒà¸Šà¹‰ Supabase subscriptions à¸­à¸¢à¹ˆà¸²à¸‡à¸£à¸°à¸¡à¸±à¸”à¸£à¸°à¸§à¸±à¸‡

### ğŸ”’ **Security Practices**
1. **RLS First**: à¹ƒà¸Šà¹‰ Row Level Security à¹€à¸›à¹‡à¸™à¸«à¸¥à¸±à¸
2. **Input Validation**: Zod schemas à¸—à¸¸à¸à¸—à¸µà¹ˆ
3. **Environment Variables**: à¹à¸¢à¸ public/private keys
4. **Error Handling**: Global error boundaries

---

## Recommended Scripts

```json
// package.json scripts
{
  "scripts": {
    "dev": "next dev --turbopack",
    "build": "next build",
    "start": "next start",
    "lint": "next lint",
    "lint:fix": "next lint --fix",
    "format": "prettier --write .",
    "format:check": "prettier --check .",
    "test": "jest",
    "test:watch": "jest --watch",
    "test:coverage": "jest --coverage",
    "db:generate": "prisma generate",
    "db:push": "prisma db push",
    "db:studio": "prisma studio",
    "type-check": "tsc --noEmit",
    "build-check": "npm run type-check && npm run lint && npm run test"
  }
}
```

---

## Development Tools (Solo Developer Must-Haves)

### VS Code Extensions
```json
{
  "recommendations": [
    "bradlc.vscode-tailwindcss",
    "Prisma.prisma",
    "esbenp.prettier-vscode",
    "ms-vscode.vscode-typescript-next",
    "formulahendry.auto-rename-tag",
    "christian-kohler.path-intellisense"
  ]
}
```

### Environment Setup
```bash
# .env.local
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
DATABASE_URL=your_database_url
DIRECT_URL=your_direct_url
```

---

## Migration Strategy

### Phase 1: Foundation (Week 1-2)
1. Setup Next.js + TailwindCSS + DaisyUI
2. Configure Supabase + Prisma
3. Basic authentication flow
4. Create base components

### Phase 2: Core Features (Week 3-4)
1. Farm management
2. Animal CRUD operations
3. Basic dashboard
4. File uploads

### Phase 3: Advanced Features (Week 5-6)
1. Activity scheduling
2. Notifications system
3. Real-time updates
4. Mobile optimization

### Phase 4: Polish (Week 7-8)
1. Testing coverage
2. Performance optimization
3. Error handling
4. Documentation

---

## à¸„à¸³à¹à¸™à¸°à¸™à¸³à¸ªà¸³à¸«à¸£à¸±à¸š Solo Developer

### âœ… **DO**
- à¹€à¸£à¸´à¹ˆà¸¡à¸ˆà¸²à¸ features à¸—à¸µà¹ˆà¸ªà¸³à¸„à¸±à¸à¸—à¸µà¹ˆà¸ªà¸¸à¸”
- à¹ƒà¸Šà¹‰ TypeScript à¸­à¸¢à¹ˆà¸²à¸‡à¹€à¸‚à¹‰à¸¡à¸‡à¸§à¸”
- à¹€à¸‚à¸µà¸¢à¸™ tests à¸ªà¸³à¸«à¸£à¸±à¸š critical paths
- à¹ƒà¸Šà¹‰ tools à¸—à¸µà¹ˆà¸Šà¹ˆà¸§à¸¢à¹€à¸à¸´à¹ˆà¸¡à¸œà¸¥à¸´à¸•à¸ à¸²à¸
- Document decisions à¸ªà¸³à¸„à¸±à¸

### âŒ **DON'T**
- Over-engineer à¸•à¸±à¹‰à¸‡à¹à¸•à¹ˆà¹à¸£à¸
- à¹€à¸‚à¸µà¸¢à¸™ custom components à¸–à¹‰à¸² DaisyUI à¸¡à¸µà¹à¸¥à¹‰à¸§
- Optimize prematurely
- à¸¥à¸°à¹€à¸¥à¸¢ error handling
- à¸—à¸³ features à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¸ˆà¸³à¹€à¸›à¹‡à¸™à¸à¹ˆà¸­à¸™

---

Stack à¸—à¸µà¹ˆà¸„à¸¸à¸“à¹€à¸¥à¸·à¸­à¸à¸¡à¸²à¹€à¸«à¸¡à¸²à¸°à¸ªà¸³à¸«à¸£à¸±à¸š solo developer à¸¡à¸²à¸à¸„à¸£à¸±à¸š! à¸ˆà¸°à¸Šà¹ˆà¸§à¸¢à¹ƒà¸«à¹‰à¸à¸±à¸’à¸™à¸²à¹„à¸”à¹‰à¹€à¸£à¹‡à¸§à¹à¸¥à¸° maintain à¸‡à¹ˆà¸²à¸¢ ğŸš€
